<div class="login_form">
  <section class="login-wrapper">
    
    <div class="logo">
      <a target="_blank" rel="noopener" href="https://unrealnavigation.com">
        <img src="www.google.com" alt="">
      </a>
    </div>
    
    <h2>Sign Up</h2>
    <form id="signup" method="post" action="#" onsubmit="event.preventDefault(); signUp();">
      <label for="email">Email</label>
      <input type="email" id="email" required name="email" autocapitalize="off" autocorrect="off" />

      <label for="password">Password</label>
      <input class="password" type="password" id="password" required name="password" />

      <div class="hide-show">
        <span>Show</span>
      </div>

      <button type="submit">Sign Up</button>
    </form>
    
  </section>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script>
  // Replace these with your actual Supabase credentials
  const supabaseUrl = 'https://knlovzpoxlozjgkgttou.supabase.co';
  const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtubG92enBveGxvempna2d0dG91Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzEyMzc0MzcsImV4cCI6MjA0NjgxMzQzN30.xiw4xK4TqOTp-c5VG8GbequxIYJQbfuUIEsPajig7xs';
  const supabase = supabase.createClient(supabaseUrl, supabaseKey);

  // Function to handle sign up
  async function signUp() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;

    const { user, error } = await supabase.auth.signUp({ email, password });

    if (error) {
      console.error("Error signing up:", error.message);
      alert(error.message); // Show the error message to the user
    } else {
      console.log("Sign-up successful:", user);
      // Optionally, redirect the user to the login page or dashboard
      window.location.href = "/login.html"; // Adjust this URL if necessary
    }
  }

  $(function() {
    // Hide/show password functionality
    $('.hide-show').show();
    $('.hide-show span').addClass('show');

    $('.hide-show span').click(function() {
      if ($(this).hasClass('show')) {
        $(this).text('Hide');
        $('input[name="password"]').attr('type', 'text');
        $(this).removeClass('show');
      } else {
        $(this).text('Show');
        $('input[name="password"]').attr('type', 'password');
        $(this).addClass('show');
      }
    });

    // Reset password visibility when submitting
    $('form button[type="submit"]').on('click', function() {
      $('.hide-show span').text('Show').addClass('show');
      $('.hide-show').parent().find('input[name="password"]').attr('type', 'password');
    });
  });
</script>

<style>
  *, *:before, *:after {
    -moz-box-sizing: border-box; 
    -webkit-box-sizing: border-box; 
    box-sizing: border-box;
  }

  $maincolor: #1fd100;
  $maincolor2: #262626;
  @mixin flexbox() {
    display: -webkit-box;
    display: -moz-box;
    display: -ms-flexbox;
    display: -webkit-flex;
    display: flex;
  }

  @mixin flex($flex-value) {
    -webkit-box-flex: $flex-value;
    -moz-box-flex: $flex-value;
    -webkit-flex: $flex-value;
    -ms-flex: $flex-value;
    flex: $flex-value;
  }

  @mixin justify($justify-value) {
    -webkit-justify-content: $justify-value;
    -moz-justify-content: $justify-value;
    justify-content: $justify-value;
  }

  @mixin box-pack($box-pack) {
    -webkit-box-pack: $box-pack;
    -moz-box-pack: $box-pack;
    -ms-flex-pack: $box-pack;
  }

  @mixin trans ($prop, $time) {
    -webkit-transition: $prop $time;
    -moz-transition: $prop $time;
    -ms-transition: $prop $time;
    -o-transition: $prop $time;
    transition: $prop $time;
  }

  @mixin border-radius($bdrs) {
    -webkit-border-radius: $bdrs;
    -moz-border-radius: $bdrs;
    border-radius: $bdrs;
  }

  body, html, .login_form {
    height: 100%; 
  }

  body {
    background: $maincolor2;
  }

  .login_form {
    @include flexbox;
    @include flex(center);
    @include justify(center);
    @include box-pack(center);
    -webkit-align-items: center;
    align-items: center;
  }

  .login-wrapper {
    max-width: 500px;
    width: 100%;
  }

  .logo {
    text-align: center;
    
    img {
      max-width: 200px;
      width: 100%;
      margin: 1em auto 2em;
    }
  }

  form {
    background: #000;
    padding: 2em 1em;
    font-family: helvetica, sans-serif;
    @include border-radius(5px);
    
    label {
      color: #fff;
      margin: 0 3% .25em;
      display: block;
      font-family: helvetica, sans-serif;
    }

    input {
      width: 94%;
      padding: .5em .25em;
      margin: 0 3% 1em;
      font-size: 1.2em;
      border: 2px solid #000;
      outline: none;
      @include trans(all, .25s);
      @include border-radius(5px);
    
      &.password {
        padding-right: 4rem;
      }
    }

    input:focus {
      border: 2px solid $maincolor;
    }

    button {
      width: 94%;
      margin: 2em 3% 0;
      border: none;
      background: $maincolor;
      padding: 1em 0;
      font-size: 1.25em;
      clear: both;
      color: #000;
      @include border-radius(5px);
      outline: none;
      @include trans(all, .25s);
      cursor: pointer;
    }

    button:focus, button:hover {
      background: $maincolor2;
    }
  }

  .hide-show {
    width: 94%;
    margin: -3.62em 3% 0 1.5%;
    position: relative;
    z-index: 5;
    display: none;
    
    span {
      background: $maincolor;
      font-size: 1em;
      padding: .5em;
      float: right;
      @include border-radius(5px);
      cursor: pointer;
    }
  }
</style>
